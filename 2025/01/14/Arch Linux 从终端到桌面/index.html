<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>Arch Linux从终端到 桌面 | Blog</title><meta name="keywords" content="标签1,标签2"><meta name="author" content="Lay"><meta name="copyright" content="Lay"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="Arch Linux从终端到 桌面"><meta name="application-name" content="Arch Linux从终端到 桌面"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="Arch Linux从终端到 桌面"><meta property="og:url" content="https://liusonglei796.github.io/2025/01/14/Arch%20Linux%20%E4%BB%8E%E7%BB%88%E7%AB%AF%E5%88%B0%E6%A1%8C%E9%9D%A2/index.html"><meta property="og:site_name" content="Blog"><meta property="og:description" content="Arch Linux 从终端到 macOS 风格美化"><meta property="og:locale" content="en"><meta property="og:image" content="https://liusonglei796.github.io/img/gfdg.png"><meta property="article:author" content="Lay"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://liusonglei796.github.io/img/gfdg.png"><meta name="description" content="Arch Linux 从终端到 macOS 风格美化"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://liusonglei796.github.io/2025/01/14/Arch%20Linux%20%E4%BB%8E%E7%BB%88%E7%AB%AF%E5%88%B0%E6%A1%8C%E9%9D%A2/"><link rel="preconnect" href="//cdn.cbd.int"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>  const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2024/07/27/125766904/ba62475f396df9de3316a08ed9e65d86_5680958632268053399..png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: 'your-twikoo-env-id',
  commentBarrageConfig:undefined,
  music_page_default: "custom",
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: false,
  mainTone: undefined,
  authorStatus: undefined,
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"Author: Lay","link":"Link: ","source":"Source: Blog","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source.","copySuccess":"Copy success, copy and reprint please mark the address of this article"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'Blog',
  title: 'Arch Linux从终端到 桌面',
  postAI: '',
  pageFillDescription: 'Arch Linux macOS 风格暗色主题美化指南, 1. 选择并安装桌面环境, 2. 解决 pacman 的404 Not Found错误, 2.1. 问题现象：熟悉的 404 Not Found, 2.2. 根本原因：本地与远程数据库的时差, 2.3. 解决方案：强制刷新你的购物清单, 2.4. 延伸与最佳实践, 2.5. 总结, 3. 创建新用户并配置环境, 3.1. 第一步：进入 TTY 虚拟控制台, 3.2. 第二步：以 root 用户登录, 3.3. 第三步：创建你的普通用户, 3.4. 第四步：为新用户设置密码, 3.5. 第五步：配置 sudo 权限, 根本原因, 操作步骤, 第一步：安装必要的软件包 (sudo 和 nano), 第二步：配置 sudo 权限, 第三步：为新用户设置密码（关键步骤）, 第四步安装能提升虚拟机体验的辅助工具, 第一步：安装 VMware 增强工具（强烈推荐）, 安装 Konsole 软件包, 第二步：重启系统（最后一步！）, 迎接成功, 4. 美化步骤, 4.1. 准备工作：打好地基, 4.2. 第一步：安装核心主题引擎 (Kvantum), 4.3. 第二步：安装 WhiteSur 主题系列风格暗色主题美化指南本指南将引导您完成的风格美化并解决安装过程中可能遇到的常见问题选择并安装桌面环境推荐使用因为其高度可定制且已有丰富的风格主题安装命令示例解决的错误在全新安装的系统上更新软件包时您可能会遇到的错误这通常不是网络问题而是软件包数据库不同步所致问题现象熟悉的在更新过程中你可能会看到类似下面的输出关键特征分析部分成功系统成功下载了大部分软件包证明你的网络连接是通畅的核心错误最主要的错误是错误码的含义是未找到这意味着服务器明确表示它没有客户端正在请求的这个文件普遍性这个错误在多个不同的镜像源如吉林大学西安交大阿里云等上都出现了次要错误像清华源出现的操作超时错误在这种情况下通常是次要症状当与普遍的错误一起出现时它很可能也是由同样根本原因引发的根本原因本地与远程数据库的时差当多个可靠的镜像源都告诉你文件不存在时问题几乎可以肯定不在于服务器而在于你的请求本身是错误的这个问题的核心是你的本地软件包数据库与远程镜像服务器上的实际文件列表不同步我们可以用一个简单的购物清单比喻来理解这个过程的世界在滚动作为一个滚动发行版的软件包更新非常频繁维护者可能刚刚将包从版本更新到了镜像服务器紧随其后世界各地的镜像服务器商店在几小时甚至几分钟内就会同步这次更新它们会下架旧版本的商品然后摆上新版本的商品你手里的购物清单过时了你系统里的本地数据库就是这张购物清单如果你有一段时间没有刷新它它上面记录的最新版依然是旧的拿着旧清单去购物当你运行时就拿着这张旧清单去服务器商店上要求购买旧版本的服务器的无奈回应服务器翻遍了货架发现这个旧版本的商品已经下架了只能无奈地告诉你抱歉没有这个文件这就是你看到的解决方案强制刷新你的购物清单既然问题是购物清单过时了那么解决方案就非常直观在购物前先从商店获取一份最新的商品目录在中这对应一个非常简单的命令这个命令为什么能解决问题让我们来分解一下参数同步软件包刷新本地软件包数据库强制刷新这是解决问题的关键使用一个时如果觉得本地数据库还挺新的可能就不会去下载而使用则会告诉别管本地的了无条件地从服务器下载一份全新的数据库文件这确保了你的购物清单与服务器的货架完全同步升级系统中所有可更新的软件包执行后会首先强制从你配置的镜像源下载最新的数据库文件然后根据这份全新的数据库来比较你已安装的软件包最后下载服务器上确实存在的正确的新版本软件包这一次下载过程应该会畅通无阻顺利完成延伸与最佳实践如果仍然失败怎么办虽然可能性很小但如果你恰好连接到了一个正在同步暂时不完整的镜像可能会再次失败此时最佳做法是使用工具重新生成一份当前状态最佳的镜像列表然后再执行例如重新筛选中国最快的镜像然后再次强制更新养成好习惯为了避免再次遇到这个问题建议定期运行来更新你的系统你更新得越频繁本地与远程数据库之间出现巨大差异的可能性就越小如果你隔了很长时间比如一周以上没有更新直接使用会是更稳妥的选择总结的错误是每个用户成长路上的必经之路它并非可怕的网络故障而是一个美丽的提醒告诉你正身处一个不断滚动的世界理解了其背后的数据库同步机制这个曾经让你头疼的错误就会变成一个可以用轻松解决的小插曲创建新用户并配置环境在安装完桌面环境后您需要创建一个普通用户并配置好相应的环境第一步进入虚拟控制台你的图形登录界面正运行在第一个虚拟控制台上我们需要切换到一个空闲的字符模式控制台在键盘上按下组合键按下后你的屏幕会从漂亮的图形界面切换到一个纯黑色的只有文字的界面并显示一个登录提示符类似这样如果没有反应可以试试或第二步以用户登录在这个黑色的字符界面中你可以用用户登录在提示符后输入然后按回车在提示符后输入你的用户密码然后按回车注意输入密码时屏幕上不会有任何显示这是正常的安全措施成功登录后你会看到这样的提示符第三步创建你的普通用户现在我们来创建你的日常使用的账户假设你想创建的用户名叫你可以换成任何你喜欢的名字在终端中执行以下命令命令解释创建用户的命令非常重要它会自动为新用户创建家目录将用户添加到一个名为的用户组在中这个组的成员默认可以获得管理员权限通过设置用户的默认为这是最常用的你新用户的名字第四步为新用户设置密码新创建的用户还没有密码无法登录执行以下命令来设置密码系统会提示你输入两次新密码来确认同样输入时屏幕上不会有显示第五步配置权限为了让你的新用户能够执行管理员命令比如安装软件我们需要允许组的用户使用命令执行以下命令来安全地编辑的配置文件这个命令会使用默认的文本编辑器通常是打开一个临时文件请务必使用因为它会在保存时检查语法防止你把自己锁在系统外面如果当您尝试执行命令时系统返回了错误当前状态您已经通过进入了字符终端并以用户身份登录您成功创建了一个新用户但在尝试赋予其管理员权限时遇到了错误根本原因这个错误的核心原因有两个未安装的基础系统默认不包含软件包命令是包的一部分因此必须先安装它文本编辑器缺失的基础系统也可能没有预装任何文本编辑器如或需要调用一个编辑器来修改文件如果找不到它也无法工作我们将一步到位解决这两个问题操作步骤第一步安装必要的软件包和我们需要安装来获得命令同时安装作为一个对新手友好的文本编辑器在您当前的终端中执行以下命令是安装软件包的命令表示我们同时安装和这两个包系统可能会提示您确认安装按然后回车即可第二步配置权限现在我们有了所有工具可以安全地为新用户配置权限了执行以下命令使用我们刚刚安装的编辑器来运行这个命令会用打开的配置文件在打开的编辑器界面中使用键盘的下方向键找到下面这一行将光标移动到行首按删除键或把井号和它后面的空格删掉使该行变为操作解读这步操作的作用是取消注释即启用这条规则允许所有在用户组里的成员使用命令您在创建用户时使用的参数就是为了这一步做准备保存并退出编辑器首先按下键盘上的组合键屏幕底部会询问是否保存修改按下键代表最后屏幕会显示要保存的文件名此时直接按下键确认即可第三步为新用户设置密码关键步骤您的新用户还没有密码无法登录现在为他设置一个执行以下命令根据提示输入您想为设置的新密码然后按回车系统会要求您再次输入同一个密码进行确认输入后再次按回车注意输入密码时为了安全屏幕上不会显示任何字符或星号这是正常现象请放心输入第四步安装能提升虚拟机体验的辅助工具配置完新用户后接着第一步安装增强工具强烈推荐这个工具能让您的虚拟机体验更好如自动调整分辨率鼠标无缝切换文件拖放等在您当前的用户终端中执行以下命令如果系统提示已经安装那也没关系安装完成后执行以下命令来启动并设置其开机自启我们可以用一个更高效的命令会同时完成设置为开机自启和立即启动两个操作然后安装安装软件包现在我们使用命令来安装在终端中执行系统会要求您输入的密码来确认管理员权限会找到软件包并提示您是否安装按然后回车等待安装完成第二步重启系统最后一步所有必要的组件现在都已就位让我们进行这决定性的一次重启在终端中执行迎接成功这一次当您的虚拟机重启后它拥有了一个可以登录的普通用户正确的权限已经就位的核心图形驱动提升体验的增强工具美化步骤准备工作打好地基在开始美化之前我们需要确保系统具备编译和安装软件包的能力是用户社区维护的软件仓库我们将从中获取主题安装基础开发工具和如果尚未安装请打开终端并执行以下命令安装一个助手推荐这一步最好科学上网助手如或可以极大简化软件包的安装和更新过程这里以为例克隆的源代码进入目录并编译安装安装完成后你就可以使用命令来像一样安装包了如果不科学上网的方法我没试过这里贴一下您所在的网络环境可能无法直接访问的服务包括这在中国大陆地区非常普遍但在其他地区也可能因为本地网络策略防火墙或问题而发生解决方案设置代理您可以将模块代理设置为一个在中国大陆可以访问的镜像源执行以下命令来设置环境变量或者您也可以使用其他可靠的代理例如操作步骤打开您的终端复制并粘贴上面的命令并执行这个设置是永久性的设置完成后请重新运行您之前的命令看看是否能成功编译第一步安装核心主题引擎的许多高级主题包括都依赖这个主题引擎来实现复杂的视觉效果如果冻玻璃圆角等操作解读扮演着一个翻译官的角色它让应用程序能够理解并渲染基于图像的复杂主题而正是这类主题在终端中执行以下命令来安装注现在的包通常同时支持和第二步安装主题系列现在我们使用助手来一键安装的所有组件安装和图标主题在终端中执行操作解读这是给应用如使用的风格主题这是风格的图标集这是给自身如窗口装饰面板颜色方案和使用的主题可选安装光标主题需要科学上网为了达到最完整的统一效果我们还可以安装配套的鼠标光标主题',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-08-14 14:37:13',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><a id="site-name" href="/" accesskey="h"><div class="title">Blog</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/comments/"><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> Search</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="/img/gfdg.jpg" target="_blank"><img class="post-qr-code-img" alt="微信" src="/img/gfdg.jpg"/></a><div class="post-qr-code-desc">微信</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> Newest Comments</span></div><div class="aside-list"><span>loading...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Arch-Linux/" style="font-size: 1.05rem;">Arch Linux<sup>1</sup></a><a href="/tags/Linux%E5%AE%89%E8%A3%85/" style="font-size: 1.05rem;">Linux安装<sup>1</sup></a><a href="/tags/VMware/" style="font-size: 1.05rem;">VMware<sup>1</sup></a><a href="/tags/%E6%A0%87%E7%AD%BE1/" style="font-size: 1.05rem;">标签1<sup>1</sup></a><a href="/tags/%E6%A0%87%E7%AD%BE2/" style="font-size: 1.05rem;">标签2<sup>1</sup></a><a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 1.05rem;">虚拟机<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>Archives</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/01/"><span class="card-archive-list-date">January 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%88%86%E7%B1%BB%E5%90%8D%E7%A7%B0/" itemprop="url">分类名称</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/%E6%A0%87%E7%AD%BE1/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>标签1</span></a><a class="article-meta__tags" href="/tags/%E6%A0%87%E7%AD%BE2/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>标签2</span></a></span></div></div><h1 class="post-title" itemprop="name headline">Arch Linux从终端到 桌面</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-01-14T02:00:00.000Z" title="Created 2025-01-14 10:00:00">2025-01-14</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-08-14T06:37:13.250Z" title="Updated 2025-08-14 14:37:13">2025-08-14</time></span></div><div class="meta-secondline"></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="/img/gfdg.png"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://liusonglei796.github.io/2025/01/14/Arch%20Linux%20%E4%BB%8E%E7%BB%88%E7%AB%AF%E5%88%B0%E6%A1%8C%E9%9D%A2/"><header><a class="post-meta-categories" href="/categories/%E5%88%86%E7%B1%BB%E5%90%8D%E7%A7%B0/" itemprop="url">分类名称</a><a href="/tags/%E6%A0%87%E7%AD%BE1/" tabindex="-1" itemprop="url">标签1</a><a href="/tags/%E6%A0%87%E7%AD%BE2/" tabindex="-1" itemprop="url">标签2</a><h1 id="CrawlerTitle" itemprop="name headline">Arch Linux从终端到 桌面</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">Lay</span><time itemprop="dateCreated datePublished" datetime="2025-01-14T02:00:00.000Z" title="Created 2025-01-14 10:00:00">2025-01-14</time><time itemprop="dateCreated datePublished" datetime="2025-08-14T06:37:13.250Z" title="Updated 2025-08-14 14:37:13">2025-08-14</time></header><h1 id="Arch-Linux-macOS-风格暗色主题美化指南"><a href="#Arch-Linux-macOS-风格暗色主题美化指南" class="headerlink" title="Arch Linux macOS 风格暗色主题美化指南"></a>Arch Linux macOS 风格暗色主题美化指南</h1><p>本指南将引导您完成 Arch Linux 的 macOS 风格美化，并解决安装过程中可能遇到的常见问题。</p>
<h2 id="1-选择并安装桌面环境"><a href="#1-选择并安装桌面环境" class="headerlink" title="1. 选择并安装桌面环境"></a>1. 选择并安装桌面环境</h2><p>推荐使用 <strong>KDE Plasma</strong>，因为其高度可定制且已有丰富的 macOS 风格主题 <a target="_blank" rel="noopener" href="https://www.reddit.com/r/arch/comments/1l0nhcg/macos_styled_arch_linux/#:~:text=Everything%20is%20easier%20with%20KDE">reddit.com</a>。</p>
<p>安装命令示例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pacman -S plasma kde-gtk-config sddm</span><br><span class="line">systemctl <span class="built_in">enable</span> sddm.service</span><br></pre></td></tr></table></figure>

<h2 id="2-解决-pacman-的“404-Not-Found”错误"><a href="#2-解决-pacman-的“404-Not-Found”错误" class="headerlink" title="2. 解决 pacman 的“404 Not Found”错误"></a>2. 解决 <code>pacman</code> 的“404 Not Found”错误</h2><p>在全新安装的 Arch Linux 系统上，更新软件包时，您可能会遇到“404 Not Found”的错误。这通常不是网络问题，而是软件包数据库不同步所致。</p>
<h3 id="2-1-问题现象：熟悉的-404-Not-Found"><a href="#2-1-问题现象：熟悉的-404-Not-Found" class="headerlink" title="2.1. 问题现象：熟悉的 404 Not Found"></a>2.1. 问题现象：熟悉的 404 Not Found</h3><p>在更新过程中，你可能会看到类似下面的输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Total (167/513)</span><br><span class="line">error: failed retrieving file <span class="string">&#x27;harfbuzz-11.3.3-1-x86_64.pkg.tar.zst&#x27;</span> from mirrors.jlu.edu.cn : The requested URL returned error: 404</span><br><span class="line">error: failed retrieving file <span class="string">&#x27;harfbuzz-11.3.3-1-x86_64.pkg.tar.zst&#x27;</span> from mirrors.tuna.tsinghua.edu.cn : Operation too slow...</span><br><span class="line">error: failed retrieving file <span class="string">&#x27;vapoursynth-R70-2-x86_64.pkg.tar.zst&#x27;</span> from mirrors.xjtu.edu.cn : The requested URL returned error: 404</span><br><span class="line">...</span><br><span class="line">error: failed to commit transaction (failed to retrieve some files)</span><br><span class="line">Errors occurred, no packages were upgraded.</span><br></pre></td></tr></table></figure>

<p><strong>关键特征分析</strong>：</p>
<ul>
<li><strong>部分成功</strong>：系统成功下载了大部分软件包，证明你的网络连接是通畅的。</li>
<li><strong>核心错误</strong>：最主要的错误是 <code>The requested URL returned error: 404</code>。HTTP 404 错误码的含义是“Not Found”（未找到），这意味着服务器明确表示它没有客户端正在请求的这个文件。</li>
<li><strong>普遍性</strong>：这个 404 错误在多个不同的镜像源（如吉林大学、西安交大、阿里云等）上都出现了。</li>
<li><strong>次要错误</strong>：像清华源出现的 <code>Operation too slow</code> (操作超时) 错误，在这种情况下通常是次要症状。当与普遍的 404 错误一起出现时，它很可能也是由同样根本原因引发的。</li>
</ul>
<h3 id="2-2-根本原因：本地与远程数据库的“时差”"><a href="#2-2-根本原因：本地与远程数据库的“时差”" class="headerlink" title="2.2. 根本原因：本地与远程数据库的“时差”"></a>2.2. 根本原因：本地与远程数据库的“时差”</h3><p>当多个可靠的镜像源都告诉你“文件不存在”时，问题几乎可以肯定不在于服务器，而在于<strong>你的请求本身是错误的</strong>。</p>
<p>这个问题的核心是：<strong>你的本地软件包数据库与远程镜像服务器上的实际文件列表不同步。</strong></p>
<p>我们可以用一个简单的“购物清单”比喻来理解这个过程：</p>
<ol>
<li><strong>Arch Linux 的世界在滚动</strong>：作为一个滚动发行版，Arch Linux 的软件包更新非常频繁。维护者可能刚刚将 <code>harfbuzz</code> 包从 <code>11.3.3-1</code> 版本更新到了 <code>11.3.4-1</code>。</li>
<li><strong>镜像服务器紧随其后</strong>：世界各地的镜像服务器（商店）在几小时甚至几分钟内就会同步这次更新。它们会下架旧版本的商品 (<code>...11.3.3-1.pkg.tar.zst</code>)，然后摆上新版本的商品 (<code>...11.3.4-1.pkg.tar.zst</code>)。</li>
<li><strong>你手里的“购物清单”过时了</strong>：你系统里的 <code>pacman</code> 本地数据库就是这张“购物清单”。如果你有一段时间没有刷新它，它上面记录的 <code>harfbuzz</code> 最新版依然是旧的 <code>11.3.3-1</code>。</li>
<li><strong>拿着旧清单去购物</strong>：当你运行 <code>pacman -Syu</code> 时，<code>pacman</code> 就拿着这张旧清单去服务器（商店）上，要求购买旧版本的 <code>harfbuzz</code>。</li>
<li><strong>服务器的无奈回应</strong>：服务器翻遍了货架，发现这个旧版本的商品已经下架了，只能无奈地告诉你：“抱歉，没有这个文件”——这就是你看到的 <code>404 Not Found</code>。</li>
</ol>
<h3 id="2-3-解决方案：强制刷新你的“购物清单”"><a href="#2-3-解决方案：强制刷新你的“购物清单”" class="headerlink" title="2.3. 解决方案：强制刷新你的“购物清单”"></a>2.3. 解决方案：强制刷新你的“购物清单”</h3><p>既然问题是“购物清单”过时了，那么解决方案就非常直观：<strong>在购物前，先从商店获取一份最新的商品目录。</strong></p>
<p>在 Arch Linux 中，这对应一个非常简单的命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -Syyu</span><br></pre></td></tr></table></figure>

<p><strong>这个命令为什么能解决问题？</strong></p>
<p>让我们来分解一下参数：</p>
<ul>
<li><code>S</code>: Sync，同步软件包。</li>
<li><code>y</code>: Refresh，刷新本地软件包数据库。</li>
<li><code>yy</code>: <strong>Force Refresh</strong>，强制刷新。这是解决问题的关键！使用一个 <code>y</code> 时，如果 <code>pacman</code> 觉得本地数据库还“挺新的”，可能就不会去下载。而使用 <code>yy</code> 则会告诉 <code>pacman</code>：“别管本地的了，无条件地从服务器下载一份全新的数据库文件！” 这确保了你的“购物清单”与服务器的货架完全同步。</li>
<li><code>u</code>: Upgrade，升级系统中所有可更新的软件包。</li>
</ul>
<p>执行 <code>pacman -Syyu</code> 后，<code>pacman</code> 会：</p>
<ol>
<li>首先，强制从你配置的镜像源下载最新的数据库文件。</li>
<li>然后，根据这份全新的数据库来比较你已安装的软件包。</li>
<li>最后，下载服务器上确实存在的、正确的新版本软件包。</li>
</ol>
<p>这一次，下载过程应该会畅通无阻，顺利完成。</p>
<h3 id="2-4-延伸与最佳实践"><a href="#2-4-延伸与最佳实践" class="headerlink" title="2.4. 延伸与最佳实践"></a>2.4. 延伸与最佳实践</h3><ul>
<li><p><strong>如果 <code>pacman -Syyu</code> 仍然失败怎么办？</strong><br>虽然可能性很小，但如果你恰好连接到了一个正在同步、暂时不完整的镜像，可能会再次失败。此时，最佳做法是使用 <code>reflector</code> 工具重新生成一份当前状态最佳的镜像列表，然后再执行 <code>pacman -Syyu</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 例如，重新筛选中国最快的镜像</span></span><br><span class="line">reflector --country China --age 12 --protocol https --<span class="built_in">sort</span> rate --save /etc/pacman.d/mirrorlist</span><br><span class="line"><span class="comment"># 然后再次强制更新</span></span><br><span class="line">pacman -Syyu</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>养成好习惯</strong><br>为了避免再次遇到这个问题，建议定期运行 <code>pacman -Syu</code> 来更新你的系统。你更新得越频繁，本地与远程数据库之间出现巨大差异的可能性就越小。如果你隔了很长时间（比如一周以上）没有更新，直接使用 <code>pacman -Syyu</code> 会是更稳妥的选择。</p>
</li>
</ul>
<h3 id="2-5-总结"><a href="#2-5-总结" class="headerlink" title="2.5. 总结"></a>2.5. 总结</h3><p><code>pacman</code> 的 404 错误是每个 Arch 用户成长路上的必经之路。它并非可怕的网络故障，而是一个美丽的提醒，告诉你正身处一个不断滚动的世界。理解了其背后的数据库同步机制，这个曾经让你头疼的错误，就会变成一个可以用 <code>pacman -Syyu</code> 轻松解决的小插曲。</p>
<h2 id="3-创建新用户并配置环境"><a href="#3-创建新用户并配置环境" class="headerlink" title="3. 创建新用户并配置环境"></a>3. 创建新用户并配置环境</h2><p>在安装完桌面环境后，您需要创建一个普通用户并配置好相应的环境。</p>
<h3 id="3-1-第一步：进入-TTY-虚拟控制台"><a href="#3-1-第一步：进入-TTY-虚拟控制台" class="headerlink" title="3.1. 第一步：进入 TTY 虚拟控制台"></a>3.1. 第一步：进入 TTY 虚拟控制台</h3><p>你的图形登录界面正运行在第一个虚拟控制台（TTY1）上。我们需要切换到一个空闲的字符模式控制台（TTY2）。</p>
<p>在键盘上按下组合键：<br><strong>Ctrl + Alt + F2</strong></p>
<p>按下后，你的屏幕会从漂亮的图形界面切换到一个纯黑色的、只有文字的界面，并显示一个登录提示符，类似这样：<br><code>ArchLinux login:</code></p>
<blockquote>
<p>如果 F2 没有反应，可以试试 Ctrl + Alt + F3 或 F4、F5、F6。</p>
</blockquote>
<h3 id="3-2-第二步：以-root-用户登录"><a href="#3-2-第二步：以-root-用户登录" class="headerlink" title="3.2. 第二步：以 root 用户登录"></a>3.2. 第二步：以 root 用户登录</h3><p>在这个黑色的字符界面中，你<strong>可以</strong>用 root 用户登录。</p>
<ol>
<li>在 <code>login:</code> 提示符后，输入 <code>root</code>，然后按回车。</li>
<li>在 <code>Password:</code> 提示符后，输入你的 root 用户密码，然后按回车。（注意：输入密码时屏幕上不会有任何显示，这是正常的安全措施）。</li>
</ol>
<p>成功登录后，你会看到 <code>[root@ArchLinux ~]#</code> 这样的提示符。</p>
<h3 id="3-3-第三步：创建你的普通用户"><a href="#3-3-第三步：创建你的普通用户" class="headerlink" title="3.3. 第三步：创建你的普通用户"></a>3.3. 第三步：创建你的普通用户</h3><p>现在我们来创建你的日常使用的账户。假设你想创建的用户名叫 <code>myuser</code>（你可以换成任何你喜欢的名字）。</p>
<p>在终端中执行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd -m -G wheel -s /bin/bash myuser</span><br></pre></td></tr></table></figure>

<p><strong>命令解释：</strong></p>
<ul>
<li><code>useradd</code>：创建用户的命令。</li>
<li><code>-m</code>：<strong>非常重要</strong>，它会自动为新用户创建家目录（&#x2F;home&#x2F;myuser）。</li>
<li><code>-G wheel</code>：将用户添加到一个名为 <code>wheel</code> 的用户组。在 Arch Linux 中，这个组的成员默认可以获得管理员权限（通过 <code>sudo</code>）。</li>
<li><code>-s /bin/bash</code>：设置用户的默认 Shell 为 bash，这是最常用的 Shell。</li>
<li><code>myuser</code>：你新用户的名字。</li>
</ul>
<h3 id="3-4-第四步：为新用户设置密码"><a href="#3-4-第四步：为新用户设置密码" class="headerlink" title="3.4. 第四步：为新用户设置密码"></a>3.4. 第四步：为新用户设置密码</h3><p>新创建的用户还没有密码，无法登录。执行以下命令来设置密码：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd myuser</span><br></pre></td></tr></table></figure>

<p>系统会提示你输入两次新密码来确认。同样，输入时屏幕上不会有显示。</p>
<h3 id="3-5-第五步：配置-sudo-权限"><a href="#3-5-第五步：配置-sudo-权限" class="headerlink" title="3.5. 第五步：配置 sudo 权限"></a>3.5. 第五步：配置 <code>sudo</code> 权限</h3><p>为了让你的新用户能够执行管理员命令（比如安装软件），我们需要允许 <code>wheel</code> 组的用户使用 <code>sudo</code> 命令。</p>
<ol>
<li><p>执行以下命令来安全地编辑 <code>sudo</code> 的配置文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">visudo</span><br></pre></td></tr></table></figure>

<p>这个命令会使用默认的文本编辑器（通常是 <code>vi</code>）打开一个临时文件。<strong>请务必使用 <code>visudo</code></strong>，因为它会在保存时检查语法，防止你把自己锁在系统外面。</p>
</li>
<li><p>如果当您尝试执行 <code>visudo</code> 命令时，系统返回了错误：<br><strong>-bash: visudo: command not found</strong><br><strong>当前状态</strong>：您已经通过 <code>Ctrl + Alt + F2</code> 进入了字符终端 (TTY)，并以 <code>root</code> 用户身份登录。您成功创建了一个新用户，但在尝试赋予其管理员权限时，遇到了 <code>visudo: command not found</code> 错误。</p>
</li>
</ol>
<h4 id="根本原因"><a href="#根本原因" class="headerlink" title="根本原因"></a><strong>根本原因</strong></h4><p>这个错误的核心原因有两个：</p>
<ol>
<li><strong><code>sudo</code> 未安装</strong>：Arch Linux 的基础系统默认不包含 <code>sudo</code> 软件包。<code>visudo</code> 命令是 <code>sudo</code> 包的一部分，因此必须先安装它。</li>
<li><strong>文本编辑器缺失</strong>：Arch Linux 的基础系统也可能没有预装任何文本编辑器（如 <code>nano</code> 或 <code>vi</code>）。<code>visudo</code> 需要调用一个编辑器来修改文件，如果找不到，它也无法工作。</li>
</ol>
<p>我们将一步到位解决这两个问题。</p>
<hr>
<h3 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a><strong>操作步骤</strong></h3><h4 id="第一步：安装必要的软件包-sudo-和-nano"><a href="#第一步：安装必要的软件包-sudo-和-nano" class="headerlink" title="第一步：安装必要的软件包 (sudo 和 nano)"></a><strong>第一步：安装必要的软件包 (<code>sudo</code> 和 <code>nano</code>)</strong></h4><p>我们需要安装 <code>sudo</code> 来获得 <code>visudo</code> 命令，同时安装 <code>nano</code> 作为一个对新手友好的文本编辑器。</p>
<p>在您当前的 <code>root</code> 终端中，执行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S <span class="built_in">sudo</span> nano</span><br></pre></td></tr></table></figure>

<ul>
<li><code>pacman -S</code> 是安装软件包的命令。</li>
<li><code>sudo nano</code> 表示我们同时安装 <code>sudo</code> 和 <code>nano</code> 这两个包。</li>
<li>系统可能会提示您确认安装，按 <code>Y</code> 然后回车即可。</li>
</ul>
<h4 id="第二步：配置-sudo-权限"><a href="#第二步：配置-sudo-权限" class="headerlink" title="第二步：配置 sudo 权限"></a><strong>第二步：配置 <code>sudo</code> 权限</strong></h4><p>现在我们有了所有工具，可以安全地为新用户配置 <code>sudo</code> 权限了。</p>
<ol>
<li><p>执行以下命令，使用我们刚刚安装的 <code>nano</code> 编辑器来运行 <code>visudo</code>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EDITOR=nano visudo</span><br></pre></td></tr></table></figure>

<p>这个命令会用 <code>nano</code> 打开 <code>sudo</code> 的配置文件。</p>
</li>
<li><p>在打开的 <code>nano</code> 编辑器界面中，使用键盘的<strong>下方向键</strong>，找到下面这一行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># %wheel ALL=(ALL:ALL) ALL</span><br></pre></td></tr></table></figure>
</li>
<li><p>将光标移动到行首，按<strong>删除键 (Backspace 或 Delete)</strong>，把井号 (#) 和它后面的空格删掉，使该行变为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%wheel ALL=(ALL:ALL) ALL</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>操作解读</strong>：这步操作的作用是“取消注释”，即启用这条规则，允许所有在 <code>wheel</code> 用户组里的成员使用 <code>sudo</code> 命令。您在创建用户时使用的 <code>-G wheel</code> 参数，就是为了这一步做准备。</p>
</blockquote>
</li>
<li><p>保存并退出 <code>nano</code> 编辑器：</p>
<ul>
<li>首先，按下键盘上的 <strong>Ctrl + X</strong> 组合键。</li>
<li>屏幕底部会询问 <code>Save modified buffer?</code> (是否保存修改？)，按下 <strong>Y</strong> 键 (代表 Yes)。</li>
<li>最后，屏幕会显示要保存的文件名，此时直接按下 <strong>Enter</strong> 键确认即可。</li>
</ul>
</li>
</ol>
<h4 id="第三步：为新用户设置密码（关键步骤）"><a href="#第三步：为新用户设置密码（关键步骤）" class="headerlink" title="第三步：为新用户设置密码（关键步骤）"></a><strong>第三步：为新用户设置密码（关键步骤）</strong></h4><p>您的新用户 <code>liusonglei</code> 还没有密码，无法登录。现在为他设置一个。</p>
<ol>
<li><p>执行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd liusonglei</span><br></pre></td></tr></table></figure>
</li>
<li><p>根据提示，输入您想为 <code>liusonglei</code> 设置的新密码，然后按回车。</p>
</li>
<li><p>系统会要求您再次输入同一个密码进行确认，输入后再次按回车。</p>
<blockquote>
<p><strong>注意</strong>：输入密码时，为了安全，屏幕上不会显示任何字符或星号。这是正常现象，请放心输入。</p>
</blockquote>
</li>
</ol>
<h4 id="第四步安装能提升虚拟机体验的辅助工具"><a href="#第四步安装能提升虚拟机体验的辅助工具" class="headerlink" title="第四步安装能提升虚拟机体验的辅助工具"></a>第四步安装能提升虚拟机体验的辅助工具</h4><p>配置完新用户后接着</p>
<h4 id="第一步：安装-VMware-增强工具（强烈推荐）"><a href="#第一步：安装-VMware-增强工具（强烈推荐）" class="headerlink" title="第一步：安装 VMware 增强工具（强烈推荐）"></a><strong>第一步：安装 VMware 增强工具（强烈推荐）</strong></h4><p>这个工具能让您的虚拟机体验更好（如自动调整分辨率、鼠标无缝切换、文件拖放等）。</p>
<p>在您当前的 <code>liusonglei</code> 用户终端中，执行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S open-vm-tools</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果系统提示 <code>open-vm-tools</code> 已经安装，那也没关系。</p>
</blockquote>
<p>安装完成后，执行以下命令来启动并设置其开机自启。我们可以用一个更高效的命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> --now vmtoolsd.service</span><br></pre></td></tr></table></figure>

<p><code>enable --now</code> 会同时完成“设置为开机自启”和“立即启动”两个操作。</p>
<p>然后安装kconsole</p>
<h4 id="安装-Konsole-软件包"><a href="#安装-Konsole-软件包" class="headerlink" title="安装 Konsole 软件包"></a><strong>安装 Konsole 软件包</strong></h4><p>现在，我们使用 <code>sudo</code> 命令来安装 Konsole。在终端中执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S konsole</span><br></pre></td></tr></table></figure>

<ol>
<li>系统会要求您输入 <code>liusonglei</code> 的密码来确认管理员权限。</li>
<li><code>pacman</code> 会找到 <code>konsole</code> 软件包并提示您是否安装。按 <code>Y</code> 然后回车。</li>
<li>等待安装完成。</li>
</ol>
<h4 id="第二步：重启系统（最后一步！）"><a href="#第二步：重启系统（最后一步！）" class="headerlink" title="第二步：重启系统（最后一步！）"></a><strong>第二步：重启系统（最后一步！）</strong></h4><p>所有必要的组件现在都已就位。让我们进行这决定性的一次重启。</p>
<p>在终端中执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure>

<h3 id="迎接成功"><a href="#迎接成功" class="headerlink" title="迎接成功"></a><strong>迎接成功</strong></h3><p>这一次，当您的虚拟机重启后，它拥有了：</p>
<ol>
<li>一个可以登录的普通用户 (liusonglei)。</li>
<li>正确的 <code>sudo</code> 权限。</li>
<li>已经就位的核心图形驱动 (mesa)。</li>
<li>提升体验的 VMware 增强工具。</li>
</ol>
<hr>
<h2 id="4-美化步骤"><a href="#4-美化步骤" class="headerlink" title="4. 美化步骤"></a>4. 美化步骤</h2><h3 id="4-1-准备工作：打好地基"><a href="#4-1-准备工作：打好地基" class="headerlink" title="4.1. 准备工作：打好地基"></a>4.1. 准备工作：打好地基</h3><p>在开始美化之前，我们需要确保系统具备编译和安装 AUR 软件包的能力。AUR（Arch User Repository）是 Arch 用户社区维护的软件仓库，我们将从中获取主题。</p>
<ol>
<li><p><strong>安装基础开发工具和 Git</strong><br>如果尚未安装，请打开终端（Konsole）并执行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S --needed base-devel git</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>安装一个 AUR 助手（推荐）</strong>  这一步最好科学上网<br>AUR 助手（如 <code>yay</code> 或 <code>paru</code>）可以极大简化 AUR 软件包的安装和更新过程。这里以 <code>yay</code> 为例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 克隆 yay 的源代码</span></span><br><span class="line">git <span class="built_in">clone</span> https://aur.archlinux.org/yay.git</span><br><span class="line"><span class="comment"># 进入目录并编译安装</span></span><br><span class="line"><span class="built_in">cd</span> yay</span><br><span class="line">makepkg -si</span><br></pre></td></tr></table></figure>

<p>安装完成后，你就可以使用 <code>yay</code> 命令来像 <code>pacman</code> 一样安装 AUR 包了。</p>
<p>如果不科学上网的方法我没试过这里贴一下<br>您所在的网络环境可能无法直接访问 Google 的服务，包括 <code>proxy.golang.org</code>。这在中国大陆地区非常普遍，但在其他地区也可能因为本地网络策略、防火墙或DNS问题而发生。</p>
</li>
</ol>
<ul>
<li><p><strong>解决方案：设置 Go 代理 (GOPROXY)</strong></p>
<p>您可以将 Go 模块代理设置为一个在中国大陆可以访问的镜像源。执行以下命令来设置环境变量：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">go <span class="built_in">env</span> -w GO111MODULE=on</span><br><span class="line">go <span class="built_in">env</span> -w GOPROXY=https://goproxy.cn,direct</span><br></pre></td></tr></table></figure>

<p>或者，您也可以使用其他可靠的代理，例如：</p>
<ul>
<li><code>https://goproxy.io,direct</code></li>
<li><code>https://proxy.golang.com.cn,direct</code></li>
</ul>
<p><strong>操作步骤：</strong></p>
<ol>
<li>打开您的终端。</li>
<li>复制并粘贴上面的 <code>go env -w</code> 命令并执行。</li>
<li>这个设置是永久性的。设置完成后，请<strong>重新运行</strong>您之前的 <code>yay</code> 命令，看看是否能成功编译。</li>
</ol>
</li>
</ul>
<hr>
<h3 id="4-2-第一步：安装核心主题引擎-Kvantum"><a href="#4-2-第一步：安装核心主题引擎-Kvantum" class="headerlink" title="4.2. 第一步：安装核心主题引擎 (Kvantum)"></a>4.2. 第一步：安装核心主题引擎 (Kvantum)</h3><p>KDE Plasma 的许多高级主题，包括 WhiteSur，都依赖 Kvantum 这个 SVG 主题引擎来实现复杂的视觉效果（如果冻玻璃、圆角等）。</p>
<blockquote>
<p><strong>操作解读</strong>：Kvantum 扮演着一个“翻译官”的角色，它让 Qt 应用程序能够理解并渲染基于 SVG 图像的复杂主题，而 WhiteSur 正是这类主题。</p>
</blockquote>
<p>在终端中执行以下命令来安装 Kvantum：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S kvantum</span><br></pre></td></tr></table></figure>

<p>(注：现在的 <code>kvantum</code> 包通常同时支持 Qt5 和 Qt6)</p>
<hr>
<h3 id="4-3-第二步：安装-WhiteSur-主题系列"><a href="#4-3-第二步：安装-WhiteSur-主题系列" class="headerlink" title="4.3. 第二步：安装 WhiteSur 主题系列"></a>4.3. 第二步：安装 WhiteSur 主题系列</h3><p>现在，我们使用 AUR 助手 <code>yay</code> 来一键安装 WhiteSur 的所有组件。</p>
<ol>
<li><p><strong>安装 GTK、KDE 和图标主题</strong><br>在终端中执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S whitesur-gtk-theme whitesur-icon-theme whitesur-kde-theme</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>操作解读</strong>：</p>
<ul>
<li><code>whitesur-gtk-theme</code>：这是给 GTK 应用（如 GIMP, Inkscape, Firefox）使用的 macOS 风格主题。</li>
<li><code>whitesur-icon-theme</code>：这是 macOS Big Sur 风格的图标集。</li>
<li><code>whitesur-kde-theme</code>：这是给 KDE Plasma 自身（如窗口装饰、面板、颜色方案）和 Kvantum 使用的主题。</li>
</ul>
</blockquote>
</li>
<li><p><strong>（可选）安装 WhiteSur 光标主题</strong>  需要科学上网<br>为了达到最完整的统一效果，我们还可以安装配套的鼠标光标主题：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S whitesur-cursor-theme</span><br></pre></td></tr></table></figure></li>
</ol>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">Lay</div><div class="post-copyright__author_desc"></div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://liusonglei796.github.io/2025/01/14/Arch%20Linux%20%E4%BB%8E%E7%BB%88%E7%AB%AF%E5%88%B0%E6%A1%8C%E9%9D%A2/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://liusonglei796.github.io/2025/01/14/Arch%20Linux%20%E4%BB%8E%E7%BB%88%E7%AB%AF%E5%88%B0%E6%A1%8C%E9%9D%A2/')">Arch Linux从终端到 桌面</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="/img/gfdg.jpg" target="_blank"><img class="post-qr-code-img" src="/img/gfdg.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://liusonglei796.github.io/2025/01/14/Arch%20Linux%20%E4%BB%8E%E7%BB%88%E7%AB%AF%E5%88%B0%E6%A1%8C%E9%9D%A2/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=Arch Linux从终端到 桌面&amp;url=https://liusonglei796.github.io/2025/01/14/Arch%20Linux%20%E4%BB%8E%E7%BB%88%E7%AB%AF%E5%88%B0%E6%A1%8C%E9%9D%A2/&amp;pic=/img/gfdg.png" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/%E6%A0%87%E7%AD%BE1/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>标签1<span class="tagsPageCount">1</span></a><a class="post-meta__box__tags" href="/tags/%E6%A0%87%E7%AD%BE2/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>标签2<span class="tagsPageCount">1</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="/img/gfdg.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/2025/01/13/Arch%20Linux%20%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97/"><img class="prev-cover" src="/img/bleach-thousand-3840x2160-19704.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">Arch Linux 虚拟机安装指南</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> Comment</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a><a href="/privacy" style="margin-left: 4px">隐私政策</a></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info-avatar"><img class="avatar-img" src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__description"></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Arch-Linux-macOS-%E9%A3%8E%E6%A0%BC%E6%9A%97%E8%89%B2%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96%E6%8C%87%E5%8D%97"><span class="toc-number">1.</span> <span class="toc-text">Arch Linux macOS 风格暗色主题美化指南</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E9%80%89%E6%8B%A9%E5%B9%B6%E5%AE%89%E8%A3%85%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83"><span class="toc-number">1.1.</span> <span class="toc-text">1. 选择并安装桌面环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E8%A7%A3%E5%86%B3-pacman-%E7%9A%84%E2%80%9C404-Not-Found%E2%80%9D%E9%94%99%E8%AF%AF"><span class="toc-number">1.2.</span> <span class="toc-text">2. 解决 pacman 的“404 Not Found”错误</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E9%97%AE%E9%A2%98%E7%8E%B0%E8%B1%A1%EF%BC%9A%E7%86%9F%E6%82%89%E7%9A%84-404-Not-Found"><span class="toc-number">1.2.1.</span> <span class="toc-text">2.1. 问题现象：熟悉的 404 Not Found</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E6%A0%B9%E6%9C%AC%E5%8E%9F%E5%9B%A0%EF%BC%9A%E6%9C%AC%E5%9C%B0%E4%B8%8E%E8%BF%9C%E7%A8%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E2%80%9C%E6%97%B6%E5%B7%AE%E2%80%9D"><span class="toc-number">1.2.2.</span> <span class="toc-text">2.2. 根本原因：本地与远程数据库的“时差”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%EF%BC%9A%E5%BC%BA%E5%88%B6%E5%88%B7%E6%96%B0%E4%BD%A0%E7%9A%84%E2%80%9C%E8%B4%AD%E7%89%A9%E6%B8%85%E5%8D%95%E2%80%9D"><span class="toc-number">1.2.3.</span> <span class="toc-text">2.3. 解决方案：强制刷新你的“购物清单”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-%E5%BB%B6%E4%BC%B8%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-number">1.2.4.</span> <span class="toc-text">2.4. 延伸与最佳实践</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-%E6%80%BB%E7%BB%93"><span class="toc-number">1.2.5.</span> <span class="toc-text">2.5. 总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%88%9B%E5%BB%BA%E6%96%B0%E7%94%A8%E6%88%B7%E5%B9%B6%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83"><span class="toc-number">1.3.</span> <span class="toc-text">3. 创建新用户并配置环境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%9A%E8%BF%9B%E5%85%A5-TTY-%E8%99%9A%E6%8B%9F%E6%8E%A7%E5%88%B6%E5%8F%B0"><span class="toc-number">1.3.1.</span> <span class="toc-text">3.1. 第一步：进入 TTY 虚拟控制台</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%9A%E4%BB%A5-root-%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95"><span class="toc-number">1.3.2.</span> <span class="toc-text">3.2. 第二步：以 root 用户登录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E7%AC%AC%E4%B8%89%E6%AD%A5%EF%BC%9A%E5%88%9B%E5%BB%BA%E4%BD%A0%E7%9A%84%E6%99%AE%E9%80%9A%E7%94%A8%E6%88%B7"><span class="toc-number">1.3.3.</span> <span class="toc-text">3.3. 第三步：创建你的普通用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E7%AC%AC%E5%9B%9B%E6%AD%A5%EF%BC%9A%E4%B8%BA%E6%96%B0%E7%94%A8%E6%88%B7%E8%AE%BE%E7%BD%AE%E5%AF%86%E7%A0%81"><span class="toc-number">1.3.4.</span> <span class="toc-text">3.4. 第四步：为新用户设置密码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E7%AC%AC%E4%BA%94%E6%AD%A5%EF%BC%9A%E9%85%8D%E7%BD%AE-sudo-%E6%9D%83%E9%99%90"><span class="toc-number">1.3.5.</span> <span class="toc-text">3.5. 第五步：配置 sudo 权限</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B9%E6%9C%AC%E5%8E%9F%E5%9B%A0"><span class="toc-number">1.3.5.1.</span> <span class="toc-text">根本原因</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.3.6.</span> <span class="toc-text">操作步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%9A%E5%AE%89%E8%A3%85%E5%BF%85%E8%A6%81%E7%9A%84%E8%BD%AF%E4%BB%B6%E5%8C%85-sudo-%E5%92%8C-nano"><span class="toc-number">1.3.6.1.</span> <span class="toc-text">第一步：安装必要的软件包 (sudo 和 nano)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%9A%E9%85%8D%E7%BD%AE-sudo-%E6%9D%83%E9%99%90"><span class="toc-number">1.3.6.2.</span> <span class="toc-text">第二步：配置 sudo 权限</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%AD%A5%EF%BC%9A%E4%B8%BA%E6%96%B0%E7%94%A8%E6%88%B7%E8%AE%BE%E7%BD%AE%E5%AF%86%E7%A0%81%EF%BC%88%E5%85%B3%E9%94%AE%E6%AD%A5%E9%AA%A4%EF%BC%89"><span class="toc-number">1.3.6.3.</span> <span class="toc-text">第三步：为新用户设置密码（关键步骤）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E6%AD%A5%E5%AE%89%E8%A3%85%E8%83%BD%E6%8F%90%E5%8D%87%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BD%93%E9%AA%8C%E7%9A%84%E8%BE%85%E5%8A%A9%E5%B7%A5%E5%85%B7"><span class="toc-number">1.3.6.4.</span> <span class="toc-text">第四步安装能提升虚拟机体验的辅助工具</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%9A%E5%AE%89%E8%A3%85-VMware-%E5%A2%9E%E5%BC%BA%E5%B7%A5%E5%85%B7%EF%BC%88%E5%BC%BA%E7%83%88%E6%8E%A8%E8%8D%90%EF%BC%89"><span class="toc-number">1.3.6.5.</span> <span class="toc-text">第一步：安装 VMware 增强工具（强烈推荐）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Konsole-%E8%BD%AF%E4%BB%B6%E5%8C%85"><span class="toc-number">1.3.6.6.</span> <span class="toc-text">安装 Konsole 软件包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%9A%E9%87%8D%E5%90%AF%E7%B3%BB%E7%BB%9F%EF%BC%88%E6%9C%80%E5%90%8E%E4%B8%80%E6%AD%A5%EF%BC%81%EF%BC%89"><span class="toc-number">1.3.6.7.</span> <span class="toc-text">第二步：重启系统（最后一步！）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%8E%E6%8E%A5%E6%88%90%E5%8A%9F"><span class="toc-number">1.3.7.</span> <span class="toc-text">迎接成功</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E7%BE%8E%E5%8C%96%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.4.</span> <span class="toc-text">4. 美化步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C%EF%BC%9A%E6%89%93%E5%A5%BD%E5%9C%B0%E5%9F%BA"><span class="toc-number">1.4.1.</span> <span class="toc-text">4.1. 准备工作：打好地基</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%9A%E5%AE%89%E8%A3%85%E6%A0%B8%E5%BF%83%E4%B8%BB%E9%A2%98%E5%BC%95%E6%93%8E-Kvantum"><span class="toc-number">1.4.2.</span> <span class="toc-text">4.2. 第一步：安装核心主题引擎 (Kvantum)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%9A%E5%AE%89%E8%A3%85-WhiteSur-%E4%B8%BB%E9%A2%98%E7%B3%BB%E5%88%97"><span class="toc-number">1.4.3.</span> <span class="toc-text">4.3. 第二步：安装 WhiteSur 主题系列</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/01/14/Arch%20Linux%20%E4%BB%8E%E7%BB%88%E7%AB%AF%E5%88%B0%E6%A1%8C%E9%9D%A2/" title="Arch Linux从终端到 桌面"><img src="/img/gfdg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Arch Linux从终端到 桌面"/></a><div class="content"><a class="title" href="/2025/01/14/Arch%20Linux%20%E4%BB%8E%E7%BB%88%E7%AB%AF%E5%88%B0%E6%A1%8C%E9%9D%A2/" title="Arch Linux从终端到 桌面">Arch Linux从终端到 桌面</a><time datetime="2025-01-14T02:00:00.000Z" title="Created 2025-01-14 10:00:00">2025-01-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/13/Arch%20Linux%20%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97/" title="Arch Linux 虚拟机安装指南"><img src="/img/bleach-thousand-3840x2160-19704.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Arch Linux 虚拟机安装指南"/></a><div class="content"><a class="title" href="/2025/01/13/Arch%20Linux%20%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97/" title="Arch Linux 虚拟机安装指南">Arch Linux 虚拟机安装指南</a><time datetime="2025-01-13T02:00:00.000Z" title="Created 2025-01-13 10:00:00">2025-01-13</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2025 By <a class="footer-bar-link" href="/" title="Lay" target="_blank">Lay</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">Articles</div><div class="length-num">2</div></a><a href="/tags/" title="tag"><div class="headline">Tags</div><div class="length-num">6</div></a><a href="/categories/" title="category"><div class="headline">Categories</div><div class="length-num">2</div></a></div><span class="sidebar-menu-item-title">Function</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="Display Mode"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>Display Mode</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/comments/"><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Arch-Linux/" style="font-size: 0.88rem;">Arch Linux<sup>1</sup></a><a href="/tags/Linux%E5%AE%89%E8%A3%85/" style="font-size: 0.88rem;">Linux安装<sup>1</sup></a><a href="/tags/VMware/" style="font-size: 0.88rem;">VMware<sup>1</sup></a><a href="/tags/%E6%A0%87%E7%AD%BE1/" style="font-size: 0.88rem;">标签1<sup>1</sup></a><a href="/tags/%E6%A0%87%E7%AD%BE2/" style="font-size: 0.88rem;">标签2<sup>1</sup></a><a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 0.88rem;">虚拟机<sup>1</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><button id="go-up" type="button" title="Back To Top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;undefined&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("04/01/2021 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2020 By 安知鱼 V1.6.14",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 Lay 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(()=>{
  const getGiscusTheme = theme => {
    return theme === 'dark' ? 'dark' : 'light'
  }

  const loadGiscus = () => {
    const config = Object.assign({
      src: 'https://giscus.app/client.js',
      'data-repo': 'liusonglei796/liusonglei796.github.io',
      'data-repo-id': 'R_kgDOPW3g8g',
      'data-category-id': 'DIC_kwDOPW3g8s4CtulJ',
      'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
      'data-reactions-enabled': '1',
      crossorigin: 'anonymous',
      async: true
    },{"data-lang":"zh-CN","data-mapping":"pathname","data-category":"General","data-input-position":"bottom"})

    const ele = document.createElement('script')
    for (let key in config) {
      ele.setAttribute(key, config[key])
    }
    document.getElementById('giscus-wrap').appendChild(ele)
  }

  const changeGiscusTheme = theme => {
    const sendMessage = message => {
      const iframe = document.querySelector('iframe.giscus-frame')
      if (!iframe) return
      iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app')
    }

    sendMessage({
      setConfig: {
        theme: getGiscusTheme(theme)
      }
    });
  }

  anzhiyu.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

  if ('Giscus' === 'Giscus' || !false) {
    if (false) anzhiyu.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
    else loadGiscus()
  } else {
    window.loadOtherComment = loadGiscus
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>